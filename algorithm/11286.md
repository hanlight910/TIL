---
id: "11286"
aliases: []
tags: []
---

# ğŸ’³ ë¬¸ì œì´í•´

Nê°œì˜ ì •ìˆ˜ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ê° ì •ìˆ˜ì˜ ë”°ë¼ì„  ë‹¤ë¥¸ ì—°ì‚°ì„ í•©ë‹ˆë‹¤.
í•´ë‹¹ ì •ìˆ˜ê°€ 0ì´ ì•„ë‹ˆë©´, í™ì— ì¶”ê°€í•©ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ 0ì´ë©´, í™ì— ì €ì¥ë˜ì–´ ìˆëŠ”
ì •ìˆ˜ ë“¤ ì¤‘ ê°€ì¥ ì‘ì€ ì ˆëŒ€ê°’ì„ ì¶œë ¥í•©ë‹ˆë‹¤. ê°€ì¥ ì‘ì€ ì ˆëŒ€ê°’ì´ ì—¬ëŸ¬ ê°œ ì¡´ì¬í•œë‹¤ë©´,
ê°€ì¥ ì‘ì€ ì •ìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

#  ğŸš¥ ë¬¸ì œì ‘ê·¼

ì£¼ì–´ì§„ ìˆ˜ë“¤ì„ í™ì— ì €ì¥í•˜ëŠ” ì´ìœ ëŠ” ìµœì†Œê°’ì„ ì—¬ëŸ¬ë²ˆ ì°¾ì„ ìˆ˜ ìˆëŠ” ì ë„ ìˆì§€ë§Œ,
ê³„ì†í•´ì„œ ì¶”ê°€ë˜ëŠ” ìˆ˜ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## í™(Heap) 

1. ì •ìˆ˜ ì¶”ê°€
2. ë§¨ ì•„ë˜ ë…¸ë“œë¶€í„° ì •ë ¬
3. ê°€ì¥ ì‘ì€ ê°’ ë‚´ë³´ë‚´ê¸°
4. ë£¨íŠ¸ ë…¸ë“œì—ì„œë¶€í„° ì •ë ¬

## ğŸ–¥ï¸ source code

```c
#include<stdio.h>
#include<stdint.h>
#include<stdlib.h>

typedef struct {
    int32_t* arr;
    int32_t size;
} heap;

void insert(heap* a, int32_t value) {
    a->arr[a->size] = value;
    a->size += 1;
    return;
}

void swap(int32_t* a, int32_t* b) {
    int32_t temp = *a;
    *a = *b;
    *b = temp;
    return;
}

void heapify_down(heap* a) {
    if (a->size <= 1) {
        return;
    }

    int32_t parent_node = 0;
    int32_t left_node = 0;
    int32_t right_node = 0;

    while (parent_node < a->size - 1) {
        left_node = (parent_node * 2) + 1;
        right_node = (parent_node * 2) + 2;
        int32_t right_num = 0;
		int32_t left_num = 0;
		if (left_node < a->size) {
			left_num = a->arr[left_node];
		}

		if (right_node < a->size) {
			right_num = a->arr[right_node];
		}
        int32_t min_node = parent_node;
        int32_t parent_num = a->arr[parent_node];
		int32_t min_num = a->arr[min_node];

        if (a->arr[parent_node] < 0) {
            parent_num = parent_num * -1;
			min_num = parent_num;
        }
        if (
            left_node < a->size &&
            a->arr[left_node] < 0
            ) {
            left_num = a->arr[left_node] * -1;
        }

        if (right_node < a->size && a->arr[right_node] < 0) {
            right_num = a->arr[right_node] * -1;
        }

        if (left_node < a->size && min_num > left_num) {
			min_num = left_num;
            min_node = left_node;
        } else if (left_node < a->size && min_num == left_num) {
            if (a->arr[min_node] > a->arr[left_node]) {
                min_node = left_node;
            }
        }

        if (right_node < a->size && min_num > right_num) {
            min_node = right_node;
			min_num = right_num;
        } else if (right_node < a->size && a->arr[min_node] == right_num) {
            if (a->arr[min_node] > a->arr[right_node]) {
                min_node = right_node;
            }
        }
		//
		// printf("ll: %d %d %d\n", a->arr[left_node], a->arr[right_node], a->arr[parent_node]);
		// printf("ll: %d\n", a->arr[min_node]);
        if (min_node != parent_node) {
            swap(&a->arr[min_node], &a->arr[parent_node]);
			parent_node = min_node;
        } else {
            break;
        }
    }
    return;
}

void heapify_up(heap* a) {
    if (a->size <= 1) {
        return;
    }
    int32_t child_node = a->size - 1;

    while (child_node > 0) {
        int32_t parent_node = (child_node - 1) / 2;
        int32_t child_num = a->arr[child_node];
        int32_t parent_num = a->arr[parent_node];

        if (a->arr[child_node] < 0) {
            child_num = a->arr[child_node] * -1;
        } 
        if (a->arr[parent_node] < 0) {
            parent_num = a->arr[parent_node] * -1;
        }

        if (child_num < parent_num) {
            swap(&a->arr[child_node], &a->arr[parent_node]);
			child_node = parent_node;
        } else if (child_num == parent_num) {
            if (a->arr[child_node] < a->arr[parent_node]) {
                swap(&a->arr[child_node], &a->arr[parent_node]);
				child_node = parent_node;
            } else {
                break;
            }
        } else {
            break;
        }
    }

    return;
}

int32_t extract_min_num(heap* a) {
	if (a->size == 0) {
		return 0;
	}

    int32_t min_num = a->arr[0];
    a->arr[0] = a->arr[a->size - 1];
    a->size -= 1;
    heapify_down(a);

    return min_num;
}

int32_t main(void) {
    int32_t n;
    scanf("%d", &n);

    int32_t arr[n];
    for (int32_t i = 0; i < n; i += 1) {
        scanf("%d", &arr[i]);
    }

    heap a = {
        (int32_t*)calloc(n, sizeof(int32_t)),
        0,
    };

    for (int i = 0; i < n; i += 1) {
        if (arr[i] != 0) {
            insert(&a, arr[i]);
            heapify_up(&a);
        } else {
            printf("%d\n", extract_min_num(&a));
            heapify_down(&a);
        }
    }
    
    return 0;
}
```
