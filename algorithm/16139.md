---
id: "16139"
aliases: []
tags: []
---

# Reflection

## 💳 문제이해

문자열 `S`가 주어졌을 때, 해당 문자열 중 특정 문자 `a`가 `q`개의 구간에, `l`부터
`r`까지 중 몇 개가 포함 되어 있는지 구합니다.

참고로 `a`는 각 구간별 다르게 나올 수 있습니다.

## 🚥 문제접근

이중 루프를 사용하여 각 구간마다, 문자열을 조회하여 `a`의 포함 개수를 
구할 수 있습니다. 하지만, 이는 시간 복잡도: $(O(q * n)$를 나타내서
비효율/느립니다.

미리 1부터~n 까지의 각 구간별로 `a`의 개수를 저장하여 계산하면,
시간 복잡도: $(O(n + q))$로 줄일 수 있습니다.

`a`가 하나의 알파벳 고정이면, 하나의 특정 문자의 개수만 저장하면 되지만,
`a`가 여러 다른 문자라면 여러개의 개수를 저장해야 하므로 결국에는 이 방식도, $(O(q * n)) 걸립니다.

이는 q가 최대 100,000 까지 이므로 매우 매우 비효율적입니다.

하지만 다행히 알파벳은 26개로 한정되어 있으므로 시간복잡도는 $(O(q + (n * 26)))으로 매우
효율적입니다.

### 1️⃣  문제풀이

#### 1. 1~n 구간별 a 개수 구하기

1부터 시작하여 각 구간의 출현 횟수를 저장할 2차원 배열을 사용합니다.

**공식**:

$$현재a의개수 = 전a의개수 + (현재\ 문자가\ a 면 + 1 아니면 + 0)$$

```py
import sys;

string: str = str(sys.stdin.readline().rstrip());
q: int = int(sys.stdin.readline().rstrip());

count_alphabet_list = [[0 for _ in range(0, len(string))] for _ in range(0, 26)];

# 첫번째 요소는 전 요소가 없어 미리 초기화 시킵니다.
for i in range(0, 26):
    count_alphabet_list[i][0] = int(string[0] == 'a');
    

# 총 26개의 알파벳 저장
for alphabet_index in range(0, 26):
    for index in range(1, len(string)):
        if string[index] == chr(alphabet_index + 97):
            count_alphabet_list[alphabet_index][index] = count_alphabet_list[alphabet_index][index - 1] + 1;
        else:
            count_alphabet_list[alphabet_index][index] = count_alphabet_list[alphabet_index][index - 1];
```

#### 2. l~r 구간별 a 개수 구하기

> 첫번째 요소가 인덱스 0으로 시작한다는 가정하에

(r - 1)번째 구간별 a개수에서 (l - 1 - 1)번째 구간별 a의개수를 빼면
구간 l~r의 a개수를 구할 수 있습니다.

**공식**:
$$구간(l \sim r)a\ 개수 = ((r - 1)번째 구간별 a\ 개수) - ((l - 1 - 1)번째 구간별 a\ 개수)$$

```py
questions: list[dict] = list();

for i in range(0, q):
    inputed: str = str(sys.stdin.readline().rstrip().split());
    questions.append({
        "a": inputed[0],
        "l": int(inputed[1]),
        "r": int(inputed[2]),
            })

for element in questions:
    current_a: int = ord(element["a"]) - 97;
    current_l: int = element["l"];
    current_r: int = element["r"];
    a: int = count_alphabet_list[current_a][current_r];
    b: int = count_alphabet_list[current_a][current_l]
    if current_l == 0:
        b = 0;
    
    count_a = a - b;
    print(count_a);
```

