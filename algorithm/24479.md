---
id: "24479"
aliases: []
tags: []
---

# π’³ λ¬Έμ μ΄ν•΄

Nκ°μ μ •μ (λ…Έλ“)κ³Ό Mκ°μ κ°„μ„ (edge)μΌλ΅ κµ¬μ„±λ λ¬΄λ°©ν–¥ κ·Έλν”„κ°€ μ£Όμ–΄μ§‘λ‹λ‹¤.
μ •μ (λ…Έλ“)μ λ²νΈλ” 1λ² λ¶€ν„° Nλ²μ…λ‹λ‹¤. λ¨λ“  κ°„μ„ μ κ°€μ¤‘μΉλ” 1μ…λ‹λ‹¤. κ° μ •μ 
(λ…Έλ“)κ°€ μ£Όμ–΄μ΅μ„, λ• μ •μ (λ…Έλ“) Rμ—μ„ μ‹μ‘ν•μ—¬ κΉμ΄ μ°μ„  νƒμƒ‰μΌλ΅ λ…Έλ“λ¥Ό
λ°©λ¬Έν•  κ²½μ° λ…Έλ“μ λ°©λ¬Έ μμ„λ¥Ό μ¶λ ¥ν•©λ‹λ‹¤.

# π¥ λ¬Έμ μ ‘κ·Ό 

μ°μ„  μμ λ¥Ό λ¶„μ„ν•΄λ³΄κ² μµλ‹λ‹¤.

## π μμ 

```
5 5 1
1 4
1 2
2 3
2 4
3 4
```
- N: 5
- κ°„μ„ : 5
- R: 1

κ° μ—°κ²°λ κ°„μ„ μ΄ μ£Όμ–΄μ§‘λ‹λ‹¤. κ·Έλν”„λ¥Ό λ§λ“¤μ–΄λ΄…λ‹λ‹¤.

**κ·Έλν”„:**

```mermaid
flowchart TD
id1[1] --- id4[4]
id1 --- id2[2]
id2 --- id3[3]
id2 --- id4[4]
id3 --- id4
```

Rμ΄ 1μ΄λ―€λ΅ 1λ¶€ν„° μ‹μ‘ν•©λ‹λ‹¤.

1. 1μ„ μ¶λ ¥ν•©λ‹λ‹¤.
2. κ·Έ λ‹¤μμ΄ 4μ™€ 2κ°€ μμ§€λ§, 2 λ°‘μ— 4κ°€ μμΌλ―€λ΅ 4λ¥Ό λ¨Όμ € μ¶λ ¥ν•©λ‹λ‹¤.
3. 2 λ‹¤μμ— 4μ™€ 3μ΄ μμ§€λ§, 3λ°‘μ— 4κ°€ μμΌλ―€λ΅ 3μ„ μ¶λ ¥ν•©λ‹λ‹¤.
4. 4λ¥Ό μ¶λ ¥ν•©λ‹λ‹¤.
5. μ‹μ‘ λ…Έλ“μ—μ„ λ” μ΄μƒ λ°©λ¬Έν•  μ •μ μ΄ μ—†μµλ‹λ‹¤.

μ•„λ‹λ©΄ μ¤λ¦„μ°¨μμΌλ΅ λ°©λ¬Έν• κ²ƒμΌ μ λ„ μκ² λ„¤μ”.

**dfs νƒμƒ‰ μμ‚¬ μ½”λ“:**
```scss
dfs(V, E, R) {  # V : μ •μ  μ§‘ν•©, E : κ°„μ„  μ§‘ν•©, R : μ‹μ‘ μ •μ  
    visited[R] <- YES;  # μ‹μ‘ μ •μ  Rμ„ λ°©λ¬Έ ν–λ‹¤κ³  ν‘μ‹ν•λ‹¤.
    for each x β E(R)  # E(R) : μ •μ  Rμ μΈμ ‘ μ •μ  μ§‘ν•©.(μ •μ  λ²νΈλ¥Ό μ¤λ¦„μ°¨μμΌλ΅ λ°©λ¬Έν•λ‹¤)
        if (visited[x] = NO) then dfs(V, E, x);
}
```

## π› οΈ λ¶„μ„

μ΄μ°¨μ› λ°°μ—΄μ„ μ‚¬μ©ν•μ—¬ λ¬΄λ°©ν–¥ κ·Έλν”„(undirected graph) λ¥Ό ν‘ν„ν•©λ‹λ‹¤.

- dfsμ—μ„ λ…Έλ“μ λ°©λ¬Έ μ—¬λ¶€λ¥Ό μ €μ¥ν•΄μ£Όλ” λ°©λ¬Έ λ°°μ—΄μ„ μ¤€λΉ„ν•©λ‹λ‹¤.
- μ¤λ¦„μ°¨μμ΄λΌκ³  ν–μΌλ‹κΉ μ¤λ¦„μ°¨μμΌλ΅ κ° μ΄μ›ƒ λ…Έλ“λ¥Ό μ •λ ¬ν•©λ‹λ‹¤.
- λ…Έλ“μ λ°©λ¬Έ μμ„λ¥Ό μ €μ¥ν•λ” λ°°μ—΄μ„ μ¤€λΉ„ν•©λ‹λ‹¤.


### π’΅ ν…μ¤νΈ
```jn
5 5 1
1 4
1 2
2 3
2 4
3 4
```

**κ·Έλν”„ μ €μ¥**:

1. 1, 4κ°€ λ“¤μ–΄ μµλ‹λ‹¤. 1λ…Έλ“μ μ΄μ›ƒμΌλ΅ 4λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤. λ§μ°¬κ°€μ§€λ΅ 4λ…Έλ“μ μ΄μ›ƒμΌλ΅
1μ„ μ¶”κ°€ν•©λ‹λ‹¤.
2. 1, 2κ°€ λ“¤μ–΄ μµλ‹λ‹¤. 1λ…Έλ“μ μ΄μ›ƒμΌλ΅ 2λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤. λ§μ°¨κ°„μ§€λ΅ 2λ…Έλ“μ μ΄μ›ƒμΌλ΅
1μ„ μ¶”κ°€ν•©λ‹λ‹¤.

.... ν•΄λ‹Ή κ³Όμ •μ„ λ°λ³µν•©λ‹λ‹¤.

**dfs**:
- μ΄μ›ƒ λ…Έλ“: λ³Έμ²΄ λ…Έλ“μ™€ μ—°κ²° λμ–΄ μλ” λ…Έλ“λ“¤

1. Rμ΄ 1μ΄λ―€λ΅ 1 λ…Έλ“λ¶€ν„° μ‹μ‘ν•΄μ„ νƒμƒ‰ν•©λ‹λ‹¤. 1μ μ΄μ›ƒ λ…Έλ“λ“¤μ„ μ •λ ¬ν•©λ‹λ‹¤.
    - λ…Έλ“ 1μ„ λ°©λ¬Έν• μ‚¬μ‹¤μ„ μ €μ¥ν•©λ‹λ‹¤.
    - λ…Έλ“ 1μ΄ μ²μ μμ„λ΅ λ°©λ¬Έν• μ‚¬μ‹¤μ„ μ €μ¥ν•©λ‹λ‹¤.
    - λ…Έλ“ 1μ μ΄μ›ƒ λ…Έλ“λ“¤μ„ μ •λ ¬ν•©λ‹λ‹¤.
    - 1μ μ΄μ›ƒ λ…Έλ“λ“¤: [4, 2] -- μ •λ ¬ --> [2, 4]
    - 2 λ¶€ν„° νƒμƒ‰ν•©λ‹λ‹¤.
        - λ…Έλ“ 2λ¥Ό λ°©λ¬Έν• μ‚¬μ‹¤μ„ μ €μ¥ν•©λ‹λ‹¤.
        - λ…Έλ“ 2λ¥Ό λ‘ λ²μ§Έ μμ„λ΅ λ°©λ¬Έν• μ‚¬μ‹¤μ„ μ €μ¥ν•©λ‹λ‹¤.
        - λ…Έλ“ 2μ μ΄μ›ƒ λ…Έλ“λ“¤: [3, 4] -- μ •λ ¬ --> [3, 4]
        - λ…Έλ“ 3λ¶€ν„° νƒμƒ‰ν•©λ‹λ‹¤.
            - ... μ„μ— κ³Όμ •μ„ λ°λ³µν•©λ‹λ‹¤.

κ° λ…Έλ“μ λ°©λ¬Έν• μμ„λ¥Ό μ €μ¥ν• λ°°μ—΄μ„ μμ°¨μ μΌλ΅ μ¶λ ¥ν•©λ‹λ‹¤.

1. λ…Έλ“ 1μ€ μ²« λ²μ§Έλ΅ λ°©λ¬Έν–μµλ‹λ‹¤.
    - 1μ„ μ¶λ ¥ν•©λ‹λ‹¤.
2. λ…Έλ“ 2λ” λ‘ λ²μ§Έλ΅ λ°©λ¬Έν–μµλ‹λ‹¤. 
    - 2λ¥Ό μ¶λ ¥ν•©λ‹λ‹¤.
3. λ…Έλ“ 3μ€ μ„Έ λ²μ§Έλ΅ λ°©λ¬Έν–μµλ‹λ‹¤.
    - 3μ„ μ¶λ ¥ν•©λ‹λ‹¤.
4. λ…Έλ“ 4λ” λ„¤ λ²μ§Έλ΅ λ°©λ¬Έν–μµλ‹λ‹¤.
    - 4λ¥Ό ν’€λ ¥ν•©λ‹λ‹¤.
5. λ…Έλ“ 5λ” μ—†μ—μµλ‹λ‹¤.
    - 0μ„ μ¶λ ¥ν•©λ‹λ‹¤.

μ΄μ²λΌ λ…Έλ“κ°€ NκΉμ§€ μλ‹¤ ν•λ”λΌλ„, λ¬΄μ΅°κ±΄ Nμ΄ν•κ°€ λ‚μ¤μ§„ μ•μµλ‹λ‹¤. μ΄λ¥Ό μ£Όμν•μ…”μ•Ό
ν•©λ‹λ‹¤.

### π–¥οΈ source code

```c
#include<stdio.h>
#include<stdint.h>
#include<stdlib.h>

int compare_integers(const void *a, const void *b) {
    return (*(int *)a - *(int *)b);
}

void dfs(int32_t N, int32_t** graph, int32_t* visited,
int32_t R, int32_t* neighbor, int32_t* when_visited) {
	static int32_t count = 1;
    visited[R] = 1;
	when_visited[R] = count;
	count += 1;
    qsort(graph[R], neighbor[R], sizeof(int), compare_integers);
    for (int32_t i = 0; i < neighbor[R]; i += 1) {
        if (!visited[graph[R][i]]) {
            dfs(N, graph, visited, graph[R][i], neighbor, when_visited);
        }
    }
    return;
}
int32_t main(void) {
    int32_t N, M, R;
    scanf("%d %d %d", &N, &M, &R);
    int32_t** graph = (int32_t**)malloc((N + 1) * sizeof(int32_t*));
    int32_t* visited = (int32_t*)calloc(N + 1, sizeof(int32_t));
    int32_t* neighbor = (int32_t*)calloc(N + 1, sizeof(int32_t));
	int32_t* when_visited = (int32_t*)calloc(N + 1, sizeof(int32_t));
    for (int32_t i = 0; i < M; i += 1) {
        int32_t u, v;
        scanf("%d %d", &u, &v);
        graph[u] = (int32_t*)realloc(graph[u], sizeof(int32_t) * (neighbor[u] + 1));
        graph[v] = (int32_t*)realloc(graph[v], sizeof(int32_t) * (neighbor[v] + 1));

        graph[u][neighbor[u]] = v;
        neighbor[u] += 1;
        graph[v][neighbor[v]] = u;
        neighbor[v] += 1;
    }
	dfs(N, graph, visited, R, neighbor, when_visited);

	for (int32_t i = 1; i <= N; i += 1) {
		printf("%d\n", when_visited[i]);
	}
    
    return 0;
}
```
