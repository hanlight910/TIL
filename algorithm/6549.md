---
id: "6549"
aliases: []
tags: []
---

# ğŸ’³ ë¬¸ì œì´í•´

ì—¬ëŸ¬ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤.
Nê°œì˜ ì§ì‚¬ê°í˜•ì´ ì£¼ì €ì¡Œì„ ë•Œ, ê° ì§ì‚¬ê°í˜•ì˜ ë†’ì´ê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤.
ê° ì§ì‚¬ê°í˜•ì˜ ë„ˆë¹„ëŠ” ëª¨ë‘ 1ì…ë‹ˆë‹¤. ê° ì§ì‚¬ê°í˜•ì´ í•œì¤„ë¡œ ë‚˜ì—´ë˜ì–´ ìˆì„ ë•Œ,
ê°€ì¥ í° ë„“ì´(Area)ë¥¼ ê°€ì§„ ì§ì‚¬ê°í˜•ì„ êµ¬í•˜ì„¸ìš”.

# ğŸš¥ ë¬¸ì œì ‘ê·¼

ë†’ì´(height)ê°€ ìµœëŒ€ $1\times 10^9$ì…ë‹ˆë‹¤.


<style>
    .container {
        display: flex;
        align-items: flex-end; /* ì§ì‚¬ê°í˜•ë“¤ì„ ì•„ë˜ìª½ì— ì •ë ¬ */
        height: 300px; /* ì „ì²´ ê·¸ë˜í”„ ë†’ì´ */
        border: 1px solid #333;
    }
    .bar {
        width: 20px; /* ëª¨ë“  ì§ì‚¬ê°í˜•ì˜ ë„ˆë¹„ */
        margin-right: 5px; /* ì§ì‚¬ê°í˜• ì‚¬ì´ì˜ ê°„ê²© */
        background-color: #4CAF50;
        display: inline-block;
        display: flex;
        color: black;
        margin: 5px;
    }
    /* ì˜ˆì œ ì§ì‚¬ê°í˜•ë“¤ì˜ ë†’ì´ */
    .bar-1 { height: 50px; }
    .bar-2 { height: 100px; }
    .bar-3 { height: 150px; }
    .bar-4 { height: 200px; }
    .bar-5 { height: 250px; }
</style>

<div class="container">
    <div class="bar bar-1">1</div>
    <div class="bar bar-2">2</div>
    <div class="bar bar-3">3</div>
    <div class="bar bar-4">4</div>
    <div class="bar bar-5">5</div>
    <div class="bar bar-3">3</div>
</div>


ìœ„ì— ì§ì‚¬ê°í˜•ë“¤ì˜ ë‚˜ì—´ì„ ë³´ë©´, 3 x 4 = 12ê°€ ê°€ì¥ í° ë„“ì´ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ”
ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ ì»´í“¨í„°ëŠ” í•´ë‹¹ ì§ì‚¬ê°í˜•ì´ ê°€ì¥ í° 
ë„“ì´ì¸ ê²ƒì„ ì•Œ ìˆ˜ ìˆì„ê¹Œìš”?

ì ì–´ë„ 1ë¶€í„° 5ê¹Œì§€ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ë‚˜ì—´ë˜ì–´ ìˆìœ¼ë©´, ë§ˆì§€ë§‰ ì›ì†Œ 5ë¥¼ ê¸°ì¤€ì„ ì§ì „


## 1ï¸âƒ£  ë¬¸ì œí’€ì´

### source code

```c
#include <stdio.h>
#include <stdint.h>
#include <stdlib.h>

#define get_max(a, b) ((a) > (b) ? (a) : (b))

typedef struct {
    int32_t* data;
    int32_t top;
} stack;

int32_t input_height(int32_t** height) {
    int32_t length;
    scanf("%d", &length);

    if (length == 0) {
        return 0;
    } else {
        *height = (int32_t*)malloc(length * sizeof(int32_t));
        if (*height == NULL) {
            fprintf(stderr, "Memory allocation failed\n");
            exit(EXIT_FAILURE);
        }

        for (int32_t i = 0; i < length; i++) {
            scanf("%d", &((*height)[i]));
        }

        return length;
    }
}

void push(stack* s, int32_t value) {
    s->data[++(s->top)] = value;
}

void pop(stack* s) {	
    if (s->top != -1) {
        s->top--;
    }
}

int32_t peek(stack* s) {
    return s->data[s->top];
}

int64_t get_area(stack* s, int32_t* heights, int32_t index) {
    int32_t top_of_stack = s->data[s->top];
    pop(s);
    int32_t height = heights[top_of_stack];
    int32_t width = (s->top != -1) ? (index - s->data[s->top] - 1) : index;
    return (int64_t)height * width;
}

void print_max_area(int32_t* height, int32_t length) {
    int32_t index = 0;
    stack s;
    s.data = (int32_t*)malloc(length * sizeof(int32_t));
    if (s.data == NULL) {
        fprintf(stderr, "Memory allocation failed\n");
        exit(EXIT_FAILURE);
    }
    s.top = -1;
    
    int64_t max_area = 0;
    while (index < length) {
        if (s.top == -1 || height[peek(&s)] <= height[index]) {
            push(&s, index);
            index++;
        } else {
            int64_t area = get_area(&s, height, index);
            max_area = get_max(max_area, area);
        }
    }

    while (s.top != -1) {
        int64_t area = get_area(&s, height, index);
        max_area = get_max(max_area, area);
    }

    printf("%lld\n", max_area);
    free(s.data);
}

int32_t main(void) {
    while (1) {
        int32_t* height;
        int32_t length = input_height(&height);

        if (length == 0) {
            break;
        }
        print_max_area(height, length);
        free(height);
    }
    return 0;
}


```
