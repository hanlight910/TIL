---
id: "1629"
aliases: []
tags: []
---

# 💳 문제이해

A를 B번 곱한 수를 C로 나눈 나머지를 구하세요.
참고로 A, B, C  수는 $2^31 - 1$이하입니다.

# 🚥 문제접근

A, B가 부호 있는 32bit 정승이기 때문에 일반적인 거듭제고 연산으로는
구할려고 하면 `overflow`가 일어나기 때문에, 값을 쪼개서(분할) 연산 해야 합니다.

제곱과 관련된 규칙을 사용합니다.

$a^{nm} = a^n \times a^m$ 

그리고 나머지를 구할려면 `modular rule`를 사용하여 분할 형태에 맞춰줍니다.

$(a x b) % c = (a % c) * (b % c) % c$

제곱은 숫자의 n번 곱이기 때문에 n번 곱의 나머지를 구합니다.

## 1️⃣  문제풀이

```
//input 2 2 3

//output 2
```

1. 우선 b가 1이면 $(a \% c)$ 값이 정답입니다.

2. b가 2면 $(a_1 \% c) * (a_2 \% c)  \% c$ 가 정답입니다.

3. b가 3이면 $(((a_1 \% c) * (a_2 \% c)) \% c)  * (a_3 \% c) \% c$ 가 정답입니다.

이대로 b만큼 실행하면 시간복잡도: $O(N)$가 나오는데, b의 최대 값이 $2^31 - 1$
승이라 많이 느릴 것입니다.

그러니 패턴을 찾아서 실행되는 횟수를 줄여야 합니다.

4. b가 4이면 $((a_1 \% c) * (a_2 \% c)) \% c * ((a_3 \% c) * (a_4 \% c) \% c) \% c$이 정답입니다.

- b가 4일 때 b가 2번일 때 값을 두번 곱하면 정답이 나옵니다.

그러면 로직 중간에 2를 곱하면 n번 실행을 안해도 2배수...$log{_2}n$만큼 걸리겠네요.

- 4번 정답 = (2번 정답 % c) * (2번 정답 % c) % c;

5. b 가 5일 때

짝수일 때는 이렇게 b / 2 를 두 번 곱해주면 되지만, 홀수일 때는 어떻할까요?

그냥 짝수처럼 b / 2를 3번 곱하면 안되고, 4번처럼 b / 2인 2를 두번의 정답을 식을
실행해서 왼쪽 인자로 주고 오른쪽 인자는 새로운 값이기 때문에, a % c 를 줍니다.

modular multiplication rule:
- (a * b) % c = (a % c) * (b % c) % c 
- 5번 정답 = ((2번 정답 % c) * (2번 정답 %c)) * (a % c) % c

모듈러 규칙을 익숙해져야 헷갈리지 않고 문제를 풀 수 있습니다.
